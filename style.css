/* ==========================================================
   style.css  ― 脳トレーニング PWA 12ゲーム対応
   ========================================================== */

/* ---------- 0. CSS 変数（ライトテーマ） ---------- */
:root {
    /* Color Palette */
    --color-background: #fcfcf9;
    --color-surface:     #ffffff;
    --color-text:        #13343b;
    --color-text-sec:    rgba(19,52,59,.6);
    --color-primary:     #21808d;
    --color-primary-hov: #1d7480;
    --color-primary-act: #16626e;
    --color-border:      rgba(19,52,59,.25);
    --color-success:     #32b8c6;
    --color-error:       #e74c3c;
    --color-warning:     #f39c12;

    /* Typography */
    --ff-base: "Inter",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
    --fs-xs: 11px; --fs-sm: 12px; --fs-base: 14px;
    --fs-lg: 16px; --fs-xl: 18px; --fs-2xl: 22px; --fs-3xl: 26px;
    --fw-normal: 400; --fw-medium: 500; --fw-bold: 600;

    /* Spacing */
    --sp-0:0;--sp-4:4px;--sp-8:8px;--sp-12:12px;--sp-16:16px;--sp-24:24px;

    /* Radius & Shadow */
    --radius-sm:6px;--radius:10px;--radius-lg:14px;
    --shadow:0 2px 6px rgba(0,0,0,.08);
}

/* ---------- 0-B. ダークテーマ ---------- */
@media (prefers-color-scheme: dark){
    :root{
        --color-background:#1f2121;
        --color-surface:#262828;
        --color-text:#f5f5f5;
        --color-text-sec:rgba(245,245,245,.7);
        --color-primary:#32b8c6;
        --color-primary-hov:#29a3b0;
        --color-primary-act:#238d98;
        --color-border:rgba(245,245,245,.25);
    }
}

/* ---------- 1. ユーティリティ ---------- */
*,*::before,*::after{box-sizing:border-box}
html{font-family:var(--ff-base);font-size:var(--fs-base);background:var(--color-background);color:var(--color-text);-webkit-text-size-adjust:none}
body{margin:0;min-height:100vh;}
.hidden{display:none!important}
.container{max-width:460px;margin:0 auto;padding:var(--sp-16)}
.text-center{text-align:center}

/* ---------- 2. ボタン ---------- */
.btn{display:inline-flex;align-items:center;justify-content:center;
     padding:var(--sp-8) var(--sp-16);border:none;border-radius:var(--radius);
     font-size:var(--fs-base);font-weight:var(--fw-medium);cursor:pointer;
     transition:.2s}
.btn:disabled{opacity:.5;cursor:not-allowed}
.btn--primary{background:var(--color-primary);color:#fff}
.btn--primary:hover{background:var(--color-primary-hov)}
.btn--outline{background:none;border:2px solid var(--color-primary);color:var(--color-primary)}
.btn--secondary{background:var(--color-surface);border:1px solid var(--color-border)}
.btn--lg{font-size:var(--fs-lg);padding:var(--sp-12) var(--sp-24)}
.btn--sm{font-size:var(--fs-sm);padding:var(--sp-4) var(--sp-12)}

/* ---------- 3. ナビゲーション ---------- */
.nav-bar{display:flex;justify-content:space-between;align-items:center;
         background:var(--color-surface);border-bottom:1px solid var(--color-border);
         padding:var(--sp-8) var(--sp-16)}
.nav-title{font-size:var(--fs-xl);font-weight:var(--fw-bold)}
.nav-menu{display:flex;gap:var(--sp-8)}
.nav-item{background:none;border:none;font:inherit;padding:var(--sp-8) var(--sp-12);
          border-radius:var(--radius-sm);color:var(--color-text-sec);cursor:pointer}
.nav-item.active,.nav-item:hover{background:var(--color-border);color:var(--color-primary)}

/* ---------- 4. カード / グリッド ---------- */
.games-grid,.quick-game-grid{display:grid;gap:var(--sp-12);grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}
.game-card{background:var(--color-surface);border:1px solid var(--color-border);
           border-radius:var(--radius);padding:var(--sp-12);cursor:pointer;box-shadow:var(--shadow);
           transition:transform .15s}
.game-card:hover{transform:translateY(-3px)}
.game-icon{font-size:32px}
.game-exercises{display:flex;flex-wrap:wrap;gap:4px;margin-top:4px}
.exercise-tag{padding:2px 6px;font-size:10px;background:var(--color-border);border-radius:var(--radius-sm)}

/* ---------- 5. ダッシュボード ---------- */
.stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--sp-12)}
.stat-card{display:flex;flex-direction:column;align-items:center;
           background:var(--color-surface);border:1px solid var(--color-border);
           border-radius:var(--radius);padding:var(--sp-12)}
.stat-value{font-size:var(--fs-2xl);font-weight:var(--fw-bold)}
.progress-bar{height:8px;background:var(--color-border);border-radius:99px;overflow:hidden}
.progress-fill{height:100%;background:var(--color-primary)}
.badge-list{display:flex;gap:var(--sp-8);overflow-x:auto;padding-bottom:var(--sp-8)}
.badge-item{display:flex;flex-direction:column;align-items:center;min-width:70px;
            background:var(--color-surface);border:1px solid var(--color-border);
            border-radius:var(--radius-sm);padding:var(--sp-8);opacity:.5;transition:.2s}
.badge-item.earned{opacity:1}
.badge-icon{font-size:24px}

/* ---------- 6. ゲームヘッダー ---------- */
.game-header{display:flex;justify-content:space-between;align-items:center;
             background:var(--color-surface);border-bottom:1px solid var(--color-border);
             padding:var(--sp-8) var(--sp-12)}
.game-title{font-size:var(--fs-xl);font-weight:var(--fw-bold)}
.game-stats{display:flex;gap:var(--sp-12);font-size:var(--fs-sm);color:var(--color-text-sec)}

/* ---------- 7. ゲーム共通 ---------- */
.game-container{min-height:calc(100vh - 140px);padding:var(--sp-16);display:flex;flex-direction:column;justify-content:center}
.game-question{text-align:center;margin-bottom:var(--sp-16)}
.game-options{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:var(--sp-12)}
.game-option{padding:var(--sp-12);border:2px solid var(--color-border);border-radius:var(--radius);
             background:var(--color-surface);cursor:pointer;font-weight:var(--fw-medium)}
.game-option:hover{border-color:var(--color-primary)}
.game-option.correct{border-color:var(--color-success);background:rgba(50,184,198,.12);color:var(--color-success)}
.game-option.incorrect{border-color:var(--color-error);background:rgba(231,76,60,.12);color:var(--color-error)}
.number-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--sp-8);max-width:240px;margin:0 auto}
.number-cell{aspect-ratio:1;border:2px solid var(--color-border);border-radius:var(--radius);font-size:var(--fs-xl);cursor:pointer}
.number-cell:hover{border-color:var(--color-primary)}

/* ---------- 8. 新規ゲーム用クラス ---------- */
.pattern-grid,.vs-grid,.nb-grid,.cm-grid,.sc-grid,.vs-card-grid{
    display:grid;gap:var(--sp-8);justify-content:center;max-width:300px;margin:0 auto
}
.pattern-grid .pat,.nb-grid .nb-cell,.cm-grid .cm-card,.sc-grid .sc-cell,
.sc-grid .sc-btn,.vs-grid .vs-cell,.vs-card-grid button{
    aspect-ratio:1;background:var(--color-surface);border:2px solid var(--color-border);
    border-radius:var(--radius);font-weight:var(--fw-bold);color:var(--color-text);cursor:pointer
}
.pat.on,.nb-cell.on,.sc-cell.on,.vs-cell.ok{background:var(--color-primary);color:#fff}
.rt-box{width:200px;height:200px;border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-size:var(--fs-lg);color:#fff;margin:0 auto}
.rt-box.wait{background:var(--color-error)}
.rt-box.go{background:var(--color-success)}
.nb-letter{font-size:var(--fs-3xl);text-align:center;margin-bottom:var(--sp-12)}

/* ---------- 9. 結果画面 ---------- */
.result-container{text-align:center;padding:var(--sp-16)}
.result-actions{display:flex;gap:var(--sp-8);justify-content:center;margin-top:var(--sp-12)}
.score{font-size:var(--fs-2xl);font-weight:var(--fw-bold)}

/* ----------10. 統計タブ ---------- */
.stats-tabs{display:flex;gap:var(--sp-8);margin-bottom:var(--sp-12)}
.tab-btn{flex:1;padding:var(--sp-8);border:none;border-radius:var(--radius-sm);background:var(--color-border);color:var(--color-text)}
.tab-btn.active{background:var(--color-primary);color:#fff}

.overview-cards{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--sp-8)}
.stat-detail-card{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius);padding:var(--sp-12);text-align:center}
.stat-big{font-size:var(--fs-xl);font-weight:var(--fw-bold)}

.game-stat-item{display:flex;gap:var(--sp-8);align-items:center;border:1px solid var(--color-border);border-radius:var(--radius);padding:var(--sp-8);background:var(--color-surface);margin-bottom:var(--sp-8)}
.game-stat-icon{font-size:24px}

/* ----------11. インストールプロンプト ---------- */
.install-prompt{position:fixed;left:var(--sp-12);right:var(--sp-12);bottom:var(--sp-12);
                 background:var(--color-surface);border:1px solid var(--color-border);
                 border-radius:var(--radius);padding:var(--sp-12);box-shadow:var(--shadow);z-index:1000}
.install-content{display:flex;align-items:center;gap:var(--sp-8);justify-content:space-between}
.install-icon{font-size:24px}

/* ----------12. レスポンシブ ---------- */
@media (min-width:700px){
  .container{max-width:520px}
  body{display:flex;justify-content:center}
  #main-app{width:420px;box-shadow:0 0 20px rgba(0,0,0,.12);border-radius:var(--radius-lg);overflow:hidden}
}

/* ---------- EOF ---------- */
